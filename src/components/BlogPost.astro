---
import Tag from './Tag.astro';

export interface Props {
	post: any;
}

const { post } = Astro.props;
---

<article class="flex">
    <div class="image" style="flex-shrink: 0;">
        <img src={`/assets/${post.image}`} alt={ post.altText } />
    </div>
    <div>
        <div class="post-header">
            <div>
                <a href={ post.url }><h2 class="text-header">{ post.title }</h2></a>
                <div style="font-weight: light;">{ post.date }</div>
            </div>
            <div class="tags">
                {post.tags.map((tag) =>
                    <Tag>{ tag }</Tag>
                )}
            </div>
        </div>
        <p>{ post.excerpt }</p>
    </div>
</article>

<style>
    .post-header {
        display: flex;
        justify-content: space-between;
        gap: 1.25rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
    }
    article {
        flex-wrap: nowrap !important;
    }
    @media (max-width: 768px) {
        article {
            flex-wrap: wrap !important;
            column-gap: .5rem !important;
        }
        .image {
            width: 100% !important;
        }
    }
    .post-header:first-of-type(div) {
        flex-grow: 1;
    }
    .tags {
        display: flex;
        gap: .5rem;
        flex-wrap: wrap;
    }
    .tags > * {
        height: fit-content;
    }
    .image {
        position: relative;
        width: 12rem;
        height: 12rem;
        box-shadow: inset 0px 2px 2px 0px rgb(0,0,0,.25);
        border-radius: 8px;
        padding: 1rem;
        background-color: #F4F4F5;
    }
    .image > img {
        border-radius: 8px;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    h2 {
        font-weight: 600;
    }
</style>